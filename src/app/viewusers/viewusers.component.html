<body>
    <div class="container-scroller">
        <!-- partial:partials/_navbar.html -->
        <app-topbar></app-topbar>
        
        <!-- partial -->
        <div class="container-fluid page-body-wrapper">
            <!-- partial:partials/_sidebar.html -->
            <app-sidebar></app-sidebar>
            <!-- partial -->

            <div class="col-lg-12 grid-margin stretch-card mrgn-top">
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title" >User Details</h4>
                       <!-- <p class="card-description">  -->
                            <!-- Button trigger modal -->
                            <button type="button" id="btn_three" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
                                + Add User
                            </button>
                            
                            <!-- Modal -->
                            <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                              <div class="modal-dialog modal-dialog-centered" role="document">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLongTitle">Add User</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <form [formGroup]="addForm" (ngSubmit)="add()" class="pt-3">
                                        <div class="form-group">
                                          <input type="text" formControlName="name3" name="name3" class="form-control form-control-lg" id="exampleInputUsername1" placeholder="Name">
                                          <!-- <div *ngIf="getError('name')" class=error>Name is invalid</div> -->
                                      </div>
                      
                                        <div class="form-group">
                                          <input type="text" formControlName="num3" name="num3" class="form-control form-control-lg" id="exampleInputnum1" placeholder="Reg Number">
                                          <!-- <div *ngIf="getError('num')" class=error>Number is invalid</div> -->
                                      </div>
                      
                                        <div class="form-group">
                                          <input type="email"  formControlName="email3" name="email3" class="form-control form-control-lg" id="exampleInputEmail1" placeholder="Email">
                                          <!-- <div *ngIf="getError('email')" class=error>Email is invalid</div> -->
                                      </div>
                      
                                        <div class="form-group">
                                          <input type="password" formControlName="pwd3" name="pwd3" class="form-control form-control-lg" id="exampleInputPassword1" placeholder="Password">
                                          <!-- <div *ngIf="getError('pwd')" class=error>pwd is invalid</div> -->
                                      </div>
                      
                                      <!-- <button type="submit"  class="btn btn-block btn-gradient-primary btn-lg font-weight-medium auth-form-btn"  >SIGN UP</button> -->

                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    <button type="submit" class="btn btn-primary">Save changes</button>
                                  </div>
                                </form>
                            </div>
                                </div>
                              </div>
                            </div>
                        <!-- </p> -->
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th> Register Number</th>
                                    <th> User Name </th>
                                    <th> Email </th>
                                    <th> Actions </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let todo of todos ; let i = index" [attr.email]="todo.email">
                                    <td>{{todo.num}}</td>
                                    <td>{{todo.name}}</td>
                                    <td>{{todo.email}}</td>
                                    <td>
                                        <!-- Button for edit -->
                                        <button type="button" class="btn btn-primary" id="btn_two" data-toggle="modal"
                                            data-target="#exampleModal">
                                            Edit
                                        </button> &nbsp;

                                        <!-- Modal for edit-->
                                        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
                                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                                            <div class="modal-dialog" role="document">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h5 class="modal-title" id="exampleModalLabel1">Enter the current email and password before editing</h5> <br>
                            
                                                        <button type="button" class="close" data-dismiss="modal"
                                                            aria-label="Close">
                                                            <span aria-hidden="true">&times;</span>
                                                        </button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <!-- edit user form -->
                                                        <form class="forms-sample" id="form_one"  [formGroup]="editForm" (ngSubmit)="edit()">
                                                            <div class="form-group row">
                                                                <label for="exampleInputUsername2"
                                                                    class="col-sm-3 col-form-label">Current Email</label>
                                                                <div class="col-sm-9">
                                                                    <input type="email" formControlName="email1" name="email1" class="form-control"
                                                                        id="exampleInputUsername2" placeholder="Current Email">
                                                                </div>
                                                            </div>

                                                            <div class="form-group row">
                                                                <label for="exampleInputPassword2"
                                                                    class="col-sm-3 col-form-label">Current
                                                                    Password</label>
                                                                <div class="col-sm-9">
                                                                    <input type="password" formControlName="pwd1" name="pwd1" class="form-control"
                                                                        id="exampleInputPassword2"
                                                                        placeholder="Current Password">
                                                                </div>
                                                            </div>

                                                            <div class="form-group row">
                                                                <label for="exampleInputEmail2"
                                                                    class="col-sm-3 col-form-label">New Email</label>
                                                                <div class="col-sm-9">
                                                                    <input type="email" formControlName="email2" name="email2" class="form-control"
                                                                        id="exampleInputEmail2"
                                                                        placeholder=" New Email">
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="form-group row">
                                                                <label for="exampleInputMobile"
                                                                    class="col-sm-3 col-form-label">New Name</label>
                                                                <div class="col-sm-9">
                                                                    <input type="text" formControlName="name2" name="name2" class="form-control"
                                                                        id="exampleInputMobile" placeholder="New Name">
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="form-group row">
                                                                <label for="exampleInputMobile"
                                                                    class="col-sm-3 col-form-label">New Reg
                                                                    Number</label>
                                                                <div class="col-sm-9">
                                                                    <input type="text"  formControlName="num2" name="num2" class="form-control"
                                                                        id="exampleInputMobile"
                                                                        placeholder="New Reg Number">
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="form-group row">
                                                                <label for="exampleInputConfirmPassword2"
                                                                    class="col-sm-3 col-form-label">New Password</label>
                                                                <div class="col-sm-9">
                                                                    <input type="password" formControlName="pwd2" name="pwd2" class="form-control"
                                                                        id="exampleInputConfirmPassword2"
                                                                        placeholder="New Password">
                                                                </div>
                                                            </div>

                                                            <!-- <button type="submit"
                                                                class="btn btn-gradient-primary mr-2">Submit</button> -->
                                                        
                                                    <div class="modal-footer" id="footer">
                                                        <button type="button" class="btn btn-secondary"
                                                            data-dismiss="modal">Close</button>
                                                        <button type="submit" class="btn btn-primary">Save
                                                            changes</button>
                                                    </div>
                                                </form>
                                            </div>
                                                </div>
                                            </div>
                                        </div>







                                        <!-- Button for Delete -->
                                        <button type="button" class="btn btn-primary" id="btn_one" data-toggle="modal"
                                            data-target="#exampleModalLong" >
                                            Delete
                                        </button>

                                        <!-- Modal for delete -->
                                        <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog"
                                            aria-labelledby="exampleModalLongTitle" aria-hidden="true">
                                            <div class="modal-dialog" role="document">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h5 class="modal-title" id="exampleModalLongTitle">Delete User
                                                        </h5>
                                                        <button type="button" class="close" data-dismiss="modal"
                                                            aria-label="Close">
                                                            <span aria-hidden="true">&times;</span>
                                                        </button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <!-- delete form -->
                                                        <!-- <form class="forms-sample" [formGroup]="deleteForm" (ngSubmit)="delete(todo.email)">
                                                            <div class="form-group row">
                                                                <label for="exampleInputUsername2"
                                                                    class="col-sm-3 col-form-label">Email</label>
                                                                <div class="col-sm-9">
                                                                    <input type="email" class="form-control" formControlName="email" name="email"
                                                                        id="exampleInputUsername2" placeholder="Email">
                                                                </div>
                                                            </div>
                                                          
                                                            <div class="form-group row">
                                                                <label for="exampleInputConfirmPassword2"
                                                                    class="col-sm-3 col-form-label">Password</label>
                                                                <div class="col-sm-9">
                                                                    <input type="password" class="form-control" formControlName="pwd" name="pwd" 
                                                                        id="exampleInputConfirmPassword2"
                                                                        placeholder="New Password">
                                                                </div>
                                                            </div> -->
                                                            Are you sure you want to delete this user..?

                                                            <!-- <button type="submit"
                                                                class="btn btn-gradient-primary mr-2">Submit</button> -->
                                                        
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-secondary"
                                                            data-dismiss="modal">Close</button>
                                                        <button type="submit" class="btn btn-primary" (click)="delete(todo.email)" >Save
                                                            changes</button>
                                                    </div>
                                                <!-- </form> -->
                                            </div>
                                                </div>
                                            </div>
                                        </div>

                                    </td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- page-body-wrapper ends -->
        </div>
    </div>
</body>